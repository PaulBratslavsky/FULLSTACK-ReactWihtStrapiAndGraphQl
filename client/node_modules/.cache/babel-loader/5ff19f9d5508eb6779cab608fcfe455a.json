{"ast":null,"code":"import axios from 'axios';\nimport * as Cookies from 'js-cookie';\nimport * as qs from 'qs';\nexport default class Strapi {\n  /**\n   * Default constructor.\n   * @param baseURL Your Strapi host.\n   * @param axiosConfig Extend Axios configuration.\n   */\n  constructor(baseURL, storeConfig, requestConfig) {\n    this.axios = axios.create({\n      baseURL,\n      paramsSerializer: qs.stringify,\n      ...requestConfig\n    });\n    this.storeConfig = {\n      cookie: {\n        key: 'jwt',\n        options: {\n          path: '/'\n        }\n      },\n      localStorage: {\n        key: 'jwt'\n      },\n      ...storeConfig\n    };\n\n    if (this.isBrowser()) {\n      let existingToken;\n\n      if (this.storeConfig.cookie) {\n        existingToken = Cookies.get(this.storeConfig.cookie.key);\n      } else if (this.storeConfig.localStorage) {\n        existingToken = JSON.parse(window.localStorage.getItem(this.storeConfig.localStorage.key));\n      }\n\n      if (existingToken) {\n        this.setToken(existingToken, true);\n      }\n    }\n  }\n  /**\n   * Axios request\n   * @param method Request method\n   * @param url Server URL\n   * @param requestConfig Custom Axios config\n   */\n\n\n  async request(method, url, requestConfig) {\n    try {\n      const response = await this.axios.request({\n        method,\n        url,\n        ...requestConfig\n      });\n      return response.data;\n    } catch (error) {\n      if (error.response) {\n        throw new Error(error.response.data.message);\n      } else {\n        throw error;\n      }\n    }\n  }\n  /**\n   * Register a new user.\n   * @param username\n   * @param email\n   * @param password\n   * @returns Authentication User token and profile\n   */\n\n\n  async register(username, email, password) {\n    this.clearToken();\n    const authentication = await this.request('post', '/auth/local/register', {\n      data: {\n        email,\n        password,\n        username\n      }\n    });\n    this.setToken(authentication.jwt);\n    return authentication;\n  }\n  /**\n   * Login by getting an authentication token.\n   * @param identifier Can either be an email or a username.\n   * @param password\n   * @returns Authentication User token and profile\n   */\n\n\n  async login(identifier, password) {\n    this.clearToken();\n    const authentication = await this.request('post', '/auth/local', {\n      data: {\n        identifier,\n        password\n      }\n    });\n    this.setToken(authentication.jwt);\n    return authentication;\n  }\n  /**\n   * Sends an email to a user with the link of your reset password page.\n   * This link contains an URL param code which is required to reset user password.\n   * Received link url format https://my-domain.com/rest-password?code=privateCode.\n   * @param email\n   * @param url Link that user will receive.\n   */\n\n\n  async forgotPassword(email, url) {\n    this.clearToken();\n    await this.request('post', '/auth/forgot-password', {\n      data: {\n        email,\n        url\n      }\n    });\n  }\n  /**\n   * Reset the user password.\n   * @param code Is the url params received from the email link (see forgot password).\n   * @param password\n   * @param passwordConfirmation\n   */\n\n\n  async resetPassword(code, password, passwordConfirmation) {\n    this.clearToken();\n    await this.request('post', '/auth/reset-password', {\n      data: {\n        code,\n        password,\n        passwordConfirmation\n      }\n    });\n  }\n  /**\n   * Retrieve the connect provider URL\n   * @param provider\n   */\n\n\n  getProviderAuthenticationUrl(provider) {\n    return `${this.axios.defaults.baseURL}/connect/${provider}`;\n  }\n  /**\n   * Authenticate the user with the token present on the URL (for browser) or in `params` (on Node.js)\n   * @param provider\n   * @param params\n   */\n\n\n  async authenticateProvider(provider, params) {\n    this.clearToken(); // Handling browser query\n\n    if (this.isBrowser()) {\n      params = qs.parse(window.location.search, {\n        ignoreQueryPrefix: true\n      });\n    }\n\n    const authentication = await this.request('get', `/auth/${provider}/callback`, {\n      params\n    });\n    this.setToken(authentication.jwt);\n    return authentication;\n  }\n  /**\n   * List entries\n   * @param contentTypePluralized\n   * @param params Filter and order queries.\n   */\n\n\n  getEntries(contentTypePluralized, params) {\n    return this.request('get', `/${contentTypePluralized}`, {\n      params\n    });\n  }\n  /**\n   * Get the total count of entries with the provided criteria\n   * @param contentType\n   * @param params Filter and order queries.\n   */\n\n\n  getEntryCount(contentType, params) {\n    return this.request('get', `/${contentType}/count`, {\n      params\n    });\n  }\n  /**\n   * Get a specific entry\n   * @param contentTypePluralized Type of entry pluralized\n   * @param id ID of entry\n   */\n\n\n  getEntry(contentTypePluralized, id) {\n    return this.request('get', `/${contentTypePluralized}/${id}`);\n  }\n  /**\n   * Create data\n   * @param contentTypePluralized Type of entry pluralized\n   * @param data New entry\n   */\n\n\n  createEntry(contentTypePluralized, data) {\n    return this.request('post', `/${contentTypePluralized}`, {\n      data\n    });\n  }\n  /**\n   * Update data\n   * @param contentTypePluralized Type of entry pluralized\n   * @param id ID of entry\n   * @param data\n   */\n\n\n  updateEntry(contentTypePluralized, id, data) {\n    return this.request('put', `/${contentTypePluralized}/${id}`, {\n      data\n    });\n  }\n  /**\n   * Delete an entry\n   * @param contentTypePluralized Type of entry pluralized\n   * @param id ID of entry\n   */\n\n\n  deleteEntry(contentTypePluralized, id) {\n    return this.request('delete', `/${contentTypePluralized}/${id}`);\n  }\n  /**\n   * Search for files\n   * @param query Keywords\n   */\n\n\n  searchFiles(query) {\n    return this.request('get', `/upload/search/${decodeURIComponent(query)}`);\n  }\n  /**\n   * Get files\n   * @param params Filter and order queries\n   * @returns Object[] Files data\n   */\n\n\n  getFiles(params) {\n    return this.request('get', '/upload/files', {\n      params\n    });\n  }\n  /**\n   * Get file\n   * @param id ID of entry\n   */\n\n\n  getFile(id) {\n    return this.request('get', `/upload/files/${id}`);\n  }\n  /**\n   * Upload files\n   *\n   * ### Browser example\n   * ```js\n   * const form = new FormData();\n   * form.append('files', fileInputElement.files[0], 'file-name.ext');\n   * form.append('files', fileInputElement.files[1], 'file-2-name.ext');\n   * const files = await strapi.upload(form);\n   * ```\n   *\n   * ### Node.js example\n   * ```js\n   * const FormData = require('form-data');\n   * const fs = require('fs');\n   * const form = new FormData();\n   * form.append('files', fs.createReadStream('./file-name.ext'), 'file-name.ext');\n   * const files = await strapi.upload(form, {\n   *   headers: form.getHeaders()\n   * });\n   * ```\n   *\n   * @param data FormData\n   * @param requestConfig\n   */\n\n\n  upload(data, requestConfig) {\n    return this.request('post', '/upload', {\n      data,\n      ...requestConfig\n    });\n  }\n  /**\n   * Set token on Axios configuration\n   * @param token Retrieved by register or login\n   */\n\n\n  setToken(token, comesFromStorage) {\n    this.axios.defaults.headers.common.Authorization = 'Bearer ' + token;\n\n    if (this.isBrowser() && !comesFromStorage) {\n      if (this.storeConfig.localStorage) {\n        window.localStorage.setItem(this.storeConfig.localStorage.key, JSON.stringify(token));\n      }\n\n      if (this.storeConfig.cookie) {\n        Cookies.set(this.storeConfig.cookie.key, token, this.storeConfig.cookie.options);\n      }\n    }\n  }\n  /**\n   * Remove token from Axios configuration\n   */\n\n\n  clearToken() {\n    delete this.axios.defaults.headers.common.Authorization;\n\n    if (this.isBrowser()) {\n      if (this.storeConfig.localStorage) {\n        window.localStorage.removeItem(this.storeConfig.localStorage.key);\n      }\n\n      if (this.storeConfig.cookie) {\n        Cookies.remove(this.storeConfig.cookie.key, this.storeConfig.cookie.options);\n      }\n    }\n  }\n  /**\n   * Check if it runs on browser\n   */\n\n\n  isBrowser() {\n    return typeof window !== 'undefined';\n  }\n\n}","map":{"version":3,"sources":["../../../src/lib/sdk.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["import axios from 'axios';\nimport * as Cookies from 'js-cookie';\nimport * as qs from 'qs';\nexport default class Strapi {\n    /**\n     * Default constructor.\n     * @param baseURL Your Strapi host.\n     * @param axiosConfig Extend Axios configuration.\n     */\n    constructor(baseURL, storeConfig, requestConfig) {\n        this.axios = axios.create({\n            baseURL,\n            paramsSerializer: qs.stringify,\n            ...requestConfig\n        });\n        this.storeConfig = {\n            cookie: {\n                key: 'jwt',\n                options: {\n                    path: '/'\n                }\n            },\n            localStorage: {\n                key: 'jwt'\n            },\n            ...storeConfig\n        };\n        if (this.isBrowser()) {\n            let existingToken;\n            if (this.storeConfig.cookie) {\n                existingToken = Cookies.get(this.storeConfig.cookie.key);\n            }\n            else if (this.storeConfig.localStorage) {\n                existingToken = JSON.parse(window.localStorage.getItem(this.storeConfig.localStorage.key));\n            }\n            if (existingToken) {\n                this.setToken(existingToken, true);\n            }\n        }\n    }\n    /**\n     * Axios request\n     * @param method Request method\n     * @param url Server URL\n     * @param requestConfig Custom Axios config\n     */\n    async request(method, url, requestConfig) {\n        try {\n            const response = await this.axios.request({\n                method,\n                url,\n                ...requestConfig\n            });\n            return response.data;\n        }\n        catch (error) {\n            if (error.response) {\n                throw new Error(error.response.data.message);\n            }\n            else {\n                throw error;\n            }\n        }\n    }\n    /**\n     * Register a new user.\n     * @param username\n     * @param email\n     * @param password\n     * @returns Authentication User token and profile\n     */\n    async register(username, email, password) {\n        this.clearToken();\n        const authentication = await this.request('post', '/auth/local/register', {\n            data: {\n                email,\n                password,\n                username\n            }\n        });\n        this.setToken(authentication.jwt);\n        return authentication;\n    }\n    /**\n     * Login by getting an authentication token.\n     * @param identifier Can either be an email or a username.\n     * @param password\n     * @returns Authentication User token and profile\n     */\n    async login(identifier, password) {\n        this.clearToken();\n        const authentication = await this.request('post', '/auth/local', {\n            data: {\n                identifier,\n                password\n            }\n        });\n        this.setToken(authentication.jwt);\n        return authentication;\n    }\n    /**\n     * Sends an email to a user with the link of your reset password page.\n     * This link contains an URL param code which is required to reset user password.\n     * Received link url format https://my-domain.com/rest-password?code=privateCode.\n     * @param email\n     * @param url Link that user will receive.\n     */\n    async forgotPassword(email, url) {\n        this.clearToken();\n        await this.request('post', '/auth/forgot-password', {\n            data: {\n                email,\n                url\n            }\n        });\n    }\n    /**\n     * Reset the user password.\n     * @param code Is the url params received from the email link (see forgot password).\n     * @param password\n     * @param passwordConfirmation\n     */\n    async resetPassword(code, password, passwordConfirmation) {\n        this.clearToken();\n        await this.request('post', '/auth/reset-password', {\n            data: {\n                code,\n                password,\n                passwordConfirmation\n            }\n        });\n    }\n    /**\n     * Retrieve the connect provider URL\n     * @param provider\n     */\n    getProviderAuthenticationUrl(provider) {\n        return `${this.axios.defaults.baseURL}/connect/${provider}`;\n    }\n    /**\n     * Authenticate the user with the token present on the URL (for browser) or in `params` (on Node.js)\n     * @param provider\n     * @param params\n     */\n    async authenticateProvider(provider, params) {\n        this.clearToken();\n        // Handling browser query\n        if (this.isBrowser()) {\n            params = qs.parse(window.location.search, { ignoreQueryPrefix: true });\n        }\n        const authentication = await this.request('get', `/auth/${provider}/callback`, {\n            params\n        });\n        this.setToken(authentication.jwt);\n        return authentication;\n    }\n    /**\n     * List entries\n     * @param contentTypePluralized\n     * @param params Filter and order queries.\n     */\n    getEntries(contentTypePluralized, params) {\n        return this.request('get', `/${contentTypePluralized}`, {\n            params\n        });\n    }\n    /**\n     * Get the total count of entries with the provided criteria\n     * @param contentType\n     * @param params Filter and order queries.\n     */\n    getEntryCount(contentType, params) {\n        return this.request('get', `/${contentType}/count`, {\n            params\n        });\n    }\n    /**\n     * Get a specific entry\n     * @param contentTypePluralized Type of entry pluralized\n     * @param id ID of entry\n     */\n    getEntry(contentTypePluralized, id) {\n        return this.request('get', `/${contentTypePluralized}/${id}`);\n    }\n    /**\n     * Create data\n     * @param contentTypePluralized Type of entry pluralized\n     * @param data New entry\n     */\n    createEntry(contentTypePluralized, data) {\n        return this.request('post', `/${contentTypePluralized}`, {\n            data\n        });\n    }\n    /**\n     * Update data\n     * @param contentTypePluralized Type of entry pluralized\n     * @param id ID of entry\n     * @param data\n     */\n    updateEntry(contentTypePluralized, id, data) {\n        return this.request('put', `/${contentTypePluralized}/${id}`, {\n            data\n        });\n    }\n    /**\n     * Delete an entry\n     * @param contentTypePluralized Type of entry pluralized\n     * @param id ID of entry\n     */\n    deleteEntry(contentTypePluralized, id) {\n        return this.request('delete', `/${contentTypePluralized}/${id}`);\n    }\n    /**\n     * Search for files\n     * @param query Keywords\n     */\n    searchFiles(query) {\n        return this.request('get', `/upload/search/${decodeURIComponent(query)}`);\n    }\n    /**\n     * Get files\n     * @param params Filter and order queries\n     * @returns Object[] Files data\n     */\n    getFiles(params) {\n        return this.request('get', '/upload/files', {\n            params\n        });\n    }\n    /**\n     * Get file\n     * @param id ID of entry\n     */\n    getFile(id) {\n        return this.request('get', `/upload/files/${id}`);\n    }\n    /**\n     * Upload files\n     *\n     * ### Browser example\n     * ```js\n     * const form = new FormData();\n     * form.append('files', fileInputElement.files[0], 'file-name.ext');\n     * form.append('files', fileInputElement.files[1], 'file-2-name.ext');\n     * const files = await strapi.upload(form);\n     * ```\n     *\n     * ### Node.js example\n     * ```js\n     * const FormData = require('form-data');\n     * const fs = require('fs');\n     * const form = new FormData();\n     * form.append('files', fs.createReadStream('./file-name.ext'), 'file-name.ext');\n     * const files = await strapi.upload(form, {\n     *   headers: form.getHeaders()\n     * });\n     * ```\n     *\n     * @param data FormData\n     * @param requestConfig\n     */\n    upload(data, requestConfig) {\n        return this.request('post', '/upload', {\n            data,\n            ...requestConfig\n        });\n    }\n    /**\n     * Set token on Axios configuration\n     * @param token Retrieved by register or login\n     */\n    setToken(token, comesFromStorage) {\n        this.axios.defaults.headers.common.Authorization = 'Bearer ' + token;\n        if (this.isBrowser() && !comesFromStorage) {\n            if (this.storeConfig.localStorage) {\n                window.localStorage.setItem(this.storeConfig.localStorage.key, JSON.stringify(token));\n            }\n            if (this.storeConfig.cookie) {\n                Cookies.set(this.storeConfig.cookie.key, token, this.storeConfig.cookie.options);\n            }\n        }\n    }\n    /**\n     * Remove token from Axios configuration\n     */\n    clearToken() {\n        delete this.axios.defaults.headers.common.Authorization;\n        if (this.isBrowser()) {\n            if (this.storeConfig.localStorage) {\n                window.localStorage.removeItem(this.storeConfig.localStorage.key);\n            }\n            if (this.storeConfig.cookie) {\n                Cookies.remove(this.storeConfig.cookie.key, this.storeConfig.cookie.options);\n            }\n        }\n    }\n    /**\n     * Check if it runs on browser\n     */\n    isBrowser() {\n        return typeof window !== 'undefined';\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2RrLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2xpYi9zZGsudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxLQUEyRCxNQUFNLE9BQU8sQ0FBQztBQUNoRixPQUFPLEtBQUssT0FBTyxNQUFNLFdBQVcsQ0FBQztBQUNyQyxPQUFPLEtBQUssRUFBRSxNQUFNLElBQUksQ0FBQztBQTZCekIsTUFBTSxDQUFDLE9BQU8sT0FBTyxNQUFNO0lBSXpCOzs7O09BSUc7SUFDSCxZQUNFLE9BQWUsRUFDZixXQUF5QixFQUN6QixhQUFrQztRQUVsQyxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUM7WUFDeEIsT0FBTztZQUNQLGdCQUFnQixFQUFFLEVBQUUsQ0FBQyxTQUFTO1lBQzlCLEdBQUcsYUFBYTtTQUNqQixDQUFDLENBQUM7UUFDSCxJQUFJLENBQUMsV0FBVyxHQUFHO1lBQ2pCLE1BQU0sRUFBRTtnQkFDTixHQUFHLEVBQUUsS0FBSztnQkFDVixPQUFPLEVBQUU7b0JBQ1AsSUFBSSxFQUFFLEdBQUc7aUJBQ1Y7YUFDRjtZQUNELFlBQVksRUFBRTtnQkFDWixHQUFHLEVBQUUsS0FBSzthQUNYO1lBQ0QsR0FBRyxXQUFXO1NBQ2YsQ0FBQztRQUVGLElBQUksSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFFO1lBQ3BCLElBQUksYUFBYSxDQUFDO1lBQ2xCLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUU7Z0JBQzNCLGFBQWEsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2FBQzFEO2lCQUFNLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxZQUFZLEVBQUU7Z0JBQ3hDLGFBQWEsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUNwRCxJQUFJLENBQUMsV0FBVyxD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"]},"metadata":{},"sourceType":"module"}